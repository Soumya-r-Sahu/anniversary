<!DOCTYPE html>
<html lang="en" data-theme="dark" data-page-type="music-playlist">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Anniversary Love">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ec4899">
    <title>Our Music Collection ‚ù§Ô∏è</title>
    <meta name="description" content="Our special songs and romantic playlist">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://unpkg.com">

    <!-- Fonts with optimized loading -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="src/styles/enhanced-romantic.css">
    <link rel="stylesheet" href="src/styles/dark-theme.css">
    <link rel="stylesheet" href="src/styles/ui-controls.css">
    <link rel="stylesheet" href="src/styles/variables.css">
    <link rel="stylesheet" href="src/styles/performance-optimized.css">
    <link rel="stylesheet" href="src/styles/90fps-optimized.css">

    <style>
        .music-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .music-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(236, 72, 153, 0.3);
            border-color: rgba(236, 72, 153, 0.5);
        }

        .album-art {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            background: linear-gradient(45deg, #ec4899, #f472b6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .now-playing {
            border-color: #ec4899;
            box-shadow: 0 0 30px rgba(236, 72, 153, 0.5);
            animation: musicPulse 2s ease-in-out infinite;
        }

        @keyframes musicPulse {
            0%, 100% { box-shadow: 0 0 30px rgba(236, 72, 153, 0.5); }
            50% { box-shadow: 0 0 50px rgba(236, 72, 153, 0.8); }
        }

        .visualizer {
            display: flex;
            align-items: end;
            gap: 2px;
            height: 20px;
        }

        .bar {
            width: 3px;
            background: linear-gradient(to top, #ec4899, #f472b6);
            border-radius: 2px;
            animation: musicBar 1s ease-in-out infinite;
        }

        .bar:nth-child(1) { animation-delay: 0s; }
        .bar:nth-child(2) { animation-delay: 0.1s; }
        .bar:nth-child(3) { animation-delay: 0.2s; }
        .bar:nth-child(4) { animation-delay: 0.3s; }
        .bar:nth-child(5) { animation-delay: 0.4s; }

        @keyframes musicBar {
            0%, 100% { height: 4px; }
            50% { height: 20px; }
        }

        .playlist-controls {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 1rem;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ec4899, #f472b6);
            border: none;
            color: white;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 20px rgba(236, 72, 153, 0.4);
        }

        .play-btn {
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ec4899, #f472b6);
            border-radius: 3px;
            transition: width 0.1s ease;
        }

        .mood-tag {
            background: rgba(236, 72, 153, 0.2);
            color: #ec4899;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            border: 1px solid rgba(236, 72, 153, 0.3);
        }

        .lyrics-display {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .lyrics-line {
            padding: 0.5rem 0;
            transition: all 0.3s ease;
            opacity: 0.6;
        }

        .lyrics-line.current {
            opacity: 1;
            color: #ec4899;
            font-weight: 600;
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-50 via-red-50 to-rose-100 overflow-x-hidden gradient-animation">
    <!-- Particles Background -->
    <div id="particles-js" class="fixed inset-0 z-0"></div>
    
    <!-- Floating Bubbles Container -->
    <div id="floating-bubbles-container" class="fixed inset-0 pointer-events-none z-50"></div>
    
    <!-- UI Control System will be added by JavaScript -->

    <!-- Header -->
    <section class="relative z-10 py-12">
        <div class="container mx-auto px-4 text-center">
            <div class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-pink-400 via-red-400 to-rose-400 rounded-full mb-8 shadow-[0_0_40px_rgba(236,72,153,0.6)] animate-pulse" data-aos="zoom-in">
                <span class="text-4xl">üéµ</span>
            </div>
            
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-red-500 mb-6 font-dancing leading-tight" data-aos="fade-up">
                Our Music Collection
            </h1>
            
            <p class="text-xl md:text-2xl text-pink-700 font-dancing mb-8" data-aos="fade-up" data-aos-delay="200">
                Every song tells our story üíï
            </p>
        </div>
    </section>

    <!-- Music Player Section -->
    <section class="relative z-10 py-8">
        <div class="container mx-auto px-4">
            <!-- Now Playing -->
            <div class="glassmorphism-bg rounded-3xl p-8 mb-8 max-w-4xl mx-auto" data-aos="fade-up">
                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="album-art">
                        üé∂
                    </div>
                    <div class="flex-1 text-center md:text-left">
                        <h3 class="text-2xl font-bold text-pink-300 mb-2" id="current-song">
                            Nit Khair Manga
                        </h3>
                        <p class="text-pink-200 mb-4" id="current-artist">
                            Rahat Fateh Ali Khan
                        </p>
                        <div class="progress-bar mb-4">
                            <div class="progress-fill" id="progress-fill" style="width: 35%"></div>
                        </div>
                        <div class="flex justify-between text-sm text-pink-200">
                            <span id="current-time">1:23</span>
                            <span id="total-time">4:15</span>
                        </div>
                    </div>
                    <div class="playlist-controls">
                        <div class="flex items-center gap-4">
                            <button class="control-btn" id="shuffle-btn" title="Shuffle">
                                üîÄ
                            </button>
                            <button class="control-btn" id="prev-btn" title="Previous">
                                ‚èÆÔ∏è
                            </button>
                            <button class="control-btn play-btn" id="play-btn" title="Play/Pause">
                                ‚è∏Ô∏è
                            </button>
                            <button class="control-btn" id="next-btn" title="Next">
                                ‚è≠Ô∏è
                            </button>
                            <button class="control-btn" id="repeat-btn" title="Repeat">
                                üîÅ
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Playlist -->
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl font-bold text-pink-600 mb-8 text-center font-dancing" data-aos="fade-up">
                    Our Love Songs Playlist üíñ
                </h2>
                
                <div class="grid gap-4" data-aos="fade-up" data-aos-delay="200">
                    <!-- Song 1 -->
                    <div class="music-card p-6 now-playing" data-song="0">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                üéµ
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Nit Khair Manga
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Rahat Fateh Ali Khan
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Romantic</span>
                                    <span class="mood-tag">Soulful</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <div class="visualizer mb-2">
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                    <div class="bar"></div>
                                </div>
                                <span class="text-pink-200 text-sm">4:15</span>
                            </div>
                        </div>
                    </div>

                    <!-- Song 2 -->
                    <div class="music-card p-6" data-song="1">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                üíï
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Kahani Suno
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Kaifi Khalil
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Dreamy</span>
                                    <span class="mood-tag">Passionate</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="text-pink-200 text-sm">3:42</span>
                            </div>
                        </div>
                    </div>

                    <!-- Song 3 -->
                    <div class="music-card p-6" data-song="2">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                üå∏
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Champakali
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Various Artists
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Sweet</span>
                                    <span class="mood-tag">Nostalgic</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="text-pink-200 text-sm">4:28</span>
                            </div>
                        </div>
                    </div>

                    <!-- Song 4 -->
                    <div class="music-card p-6" data-song="3">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                ‚ù§Ô∏è
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Jo Tum Mere Ho
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Anuv Jain
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Intimate</span>
                                    <span class="mood-tag">Heartfelt</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="text-pink-200 text-sm">3:15</span>
                            </div>
                        </div>
                    </div>

                    <!-- Song 5 -->
                    <div class="music-card p-6" data-song="4">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                üåπ
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Paro
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Anuv Jain
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Melodic</span>
                                    <span class="mood-tag">Deep</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="text-pink-200 text-sm">4:01</span>
                            </div>
                        </div>
                    </div>

                    <!-- Song 6 -->
                    <div class="music-card p-6" data-song="5">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                üé∂
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Jugrafiyan
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Darshan Raval
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Uplifting</span>
                                    <span class="mood-tag">Joyful</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="text-pink-200 text-sm">3:55</span>
                            </div>
                        </div>
                    </div>

                    <!-- Song 7 -->
                    <div class="music-card p-6" data-song="6">
                        <div class="flex items-center gap-4">
                            <div class="album-art">
                                üíñ
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-semibold text-pink-300 mb-1">
                                    Main Theme (Arijit Singh)
                                </h4>
                                <p class="text-pink-200 text-sm mb-2">
                                    Arijit Singh
                                </p>
                                <div class="flex gap-2 mb-2">
                                    <span class="mood-tag">Classic</span>
                                    <span class="mood-tag">Timeless</span>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="text-pink-200 text-sm">4:33</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lyrics Display -->
            <div class="max-w-4xl mx-auto mt-12" data-aos="fade-up" data-aos-delay="400">
                <h3 class="text-2xl font-bold text-pink-600 mb-6 text-center font-dancing">
                    Lyrics üìù
                </h3>
                <div class="lyrics-display" id="lyrics-container">
                    <div class="lyrics-line current">‡§®‡•Ä‡§§ ‡§ñ‡•à‡§∞ ‡§Æ‡§æ‡§Ç‡§ó‡§æ ‡§Æ‡•á‡§Ç ‡§§‡•á‡§∞‡•Ä ‡§Ü‡§∏‡§Æ‡§æ‡§® ‡§∏‡•á</div>
                    <div class="lyrics-line">‡§¶‡§ø‡§≤ ‡§∏‡•á ‡§¶‡•Å‡§Ü ‡§®‡§ø‡§ï‡§≤‡•Ä ‡§Æ‡•á‡§∞‡•á ‡§≠‡§ó‡§µ‡§æ‡§® ‡§∏‡•á</div>
                    <div class="lyrics-line">‡§Æ‡•à‡§Ç ‡§ï‡§∞ ‡§¶‡•Ç‡§Ç‡§ó‡§æ ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ñ‡•Å‡§∂‡•Ä ‡§∏‡§æ‡§∞‡•Ä ‡§§‡•á‡§∞‡•Ä</div>
                    <div class="lyrics-line">‡§π‡§∞ ‡§Æ‡•Å‡§∏‡•Ä‡§¨‡§§ ‡§π‡•ã‡§ó‡•Ä ‡§¶‡•Ç‡§∞ ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§∏‡•á</div>
                    <div class="lyrics-line">‡§®‡•Ä‡§§ ‡§ñ‡•à‡§∞ ‡§Æ‡§æ‡§Ç‡§ó‡§æ ‡§Æ‡•á‡§Ç ‡§§‡•á‡§∞‡•Ä ‡§Ü‡§∏‡§Æ‡§æ‡§® ‡§∏‡•á</div>
                    <div class="lyrics-line">---</div>
                    <div class="lyrics-line">"I pray for your well-being to the sky"</div>
                    <div class="lyrics-line">"My prayer came from my heart to God"</div>
                    <div class="lyrics-line">"I will make all your happiness in the world"</div>
                    <div class="lyrics-line">"Every trouble will be away with love"</div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="text-center mt-12" data-aos="fade-up" data-aos-delay="600">
                <div class="flex flex-wrap justify-center gap-4">
                    <a href="index.html" class="enhanced-button">
                        üè† Home
                    </a>
                    <a href="love-story.html" class="enhanced-button">
                        üíï Love Story
                    </a>
                    <a href="photo-gallery.html" class="enhanced-button">
                        üì∏ Photos
                    </a>
                    <a href="memories-timeline.html" class="enhanced-button">
                        ‚è∞ Timeline
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript Libraries -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

    <!-- Enhanced Components -->
    <script src="src/core/EnhancedMusicManager.js"></script>
    <script src="src/components/RomanticEffects.js"></script>

    <script>
        // Initialize AOS
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 1000,
                easing: 'ease-in-out',
                once: true
            });

            // Initialize music playlist functionality
            initializeMusicPlaylist();
        });

        // Playlist functionality
        function initializeMusicPlaylist() {
            const musicCards = document.querySelectorAll('.music-card');
            const playBtn = document.getElementById('play-btn');
            const shuffleBtn = document.getElementById('shuffle-btn');
            const repeatBtn = document.getElementById('repeat-btn');
            let currentSong = 0;
            let isPlaying = true;
            let isShuffled = false;
            let repeatMode = 'none'; // none, one, all

            // Music card click handlers
            musicCards.forEach((card, index) => {
                card.addEventListener('click', () => {
                    switchToSong(index);
                });
            });

            // Control button handlers
            playBtn.addEventListener('click', togglePlay);
            shuffleBtn.addEventListener('click', toggleShuffle);
            repeatBtn.addEventListener('click', toggleRepeat);

            document.getElementById('prev-btn').addEventListener('click', previousSong);
            document.getElementById('next-btn').addEventListener('click', nextSong);

            function switchToSong(index) {
                // Remove current highlighting
                musicCards.forEach(card => card.classList.remove('now-playing'));
                
                // Add highlighting to new song
                musicCards[index].classList.add('now-playing');
                
                currentSong = index;
                updateNowPlaying(index);
            }

            function updateNowPlaying(index) {
                const songs = [
                    { title: 'Nit Khair Manga', artist: 'Rahat Fateh Ali Khan', duration: '4:15' },
                    { title: 'Kahani Suno', artist: 'Kaifi Khalil', duration: '3:42' },
                    { title: 'Champakali', artist: 'Various Artists', duration: '4:28' },
                    { title: 'Jo Tum Mere Ho', artist: 'Anuv Jain', duration: '3:15' },
                    { title: 'Paro', artist: 'Anuv Jain', duration: '4:01' },
                    { title: 'Jugrafiyan', artist: 'Darshan Raval', duration: '3:55' },
                    { title: 'Main Theme (Arijit Singh)', artist: 'Arijit Singh', duration: '4:33' }
                ];

                const song = songs[index];
                document.getElementById('current-song').textContent = song.title;
                document.getElementById('current-artist').textContent = song.artist;
                document.getElementById('total-time').textContent = song.duration;
            }

            function togglePlay() {
                isPlaying = !isPlaying;
                playBtn.textContent = isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
                
                // Toggle visualizer animation
                const currentCard = document.querySelector('.music-card.now-playing');
                const visualizer = currentCard?.querySelector('.visualizer');
                if (visualizer) {
                    visualizer.style.display = isPlaying ? 'flex' : 'none';
                }
            }

            function toggleShuffle() {
                isShuffled = !isShuffled;
                shuffleBtn.style.opacity = isShuffled ? '1' : '0.6';
                shuffleBtn.style.background = isShuffled ? 
                    'linear-gradient(45deg, #10b981, #059669)' : 
                    'linear-gradient(45deg, #ec4899, #f472b6)';
            }

            function toggleRepeat() {
                const modes = ['none', 'one', 'all'];
                const currentIndex = modes.indexOf(repeatMode);
                repeatMode = modes[(currentIndex + 1) % modes.length];
                
                const icons = { none: 'üîÅ', one: 'üîÇ', all: 'üîÅ' };
                repeatBtn.textContent = icons[repeatMode];
                repeatBtn.style.opacity = repeatMode === 'none' ? '0.6' : '1';
            }

            function nextSong() {
                if (isShuffled) {
                    currentSong = Math.floor(Math.random() * musicCards.length);
                } else {
                    currentSong = (currentSong + 1) % musicCards.length;
                }
                switchToSong(currentSong);
            }

            function previousSong() {
                if (isShuffled) {
                    currentSong = Math.floor(Math.random() * musicCards.length);
                } else {
                    currentSong = currentSong === 0 ? musicCards.length - 1 : currentSong - 1;
                }
                switchToSong(currentSong);
            }

            // Simulate progress bar
            let progress = 35;
            setInterval(() => {
                if (isPlaying) {
                    progress += 0.5;
                    if (progress >= 100) {
                        progress = 0;
                        if (repeatMode !== 'one') {
                            nextSong();
                        }
                    }
                    document.getElementById('progress-fill').style.width = progress + '%';
                    
                    // Update current time (simplified)
                    const minutes = Math.floor((progress / 100) * 255 / 60);
                    const seconds = Math.floor((progress / 100) * 255 % 60);
                    document.getElementById('current-time').textContent = 
                        `${minutes}:${seconds.toString().padStart(2, '0')}`;
                }
            }, 100);
        }

        // Initialize particles
        if (typeof particlesJS !== 'undefined') {
            particlesJS('particles-js', {
                particles: {
                    number: { value: 15 },
                    color: { value: ["#ff6b9d", "#ffa8cc", "#ffb3d6"] },
                    shape: { type: "circle" },
                    opacity: { value: 0.5 },
                    size: { value: 3, random: true },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: "#ff6b9d",
                        opacity: 0.4,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 1.2,
                        direction: "none",
                        random: false,
                        straight: false,
                        out_mode: "out",
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" },
                        resize: true
                    }
                },
                retina_detect: true
            });
        }
    </script>

    <!-- Music System Initializer -->
    <script type="module" src="./src/core/EnhancedMusicManager.js"></script>

    <!-- UI Polish Initializer -->
    <script type="module" src="./src/utils/ui-polish-initializer.js"></script>    <!-- UI Control System -->
    <script type="module" src="./src/components/UIControlSystem.js"></script>

    <!-- Page-Specific Music Popup Manager -->
    <script type="module" src="./src/music-popup-initializer.js"></script>

    <!-- Integration Script -->
    <script type="module" src="./src/integrator.js"></script>

    <!-- Smooth Transitions Script -->
    <script src="src/utils/smooth-transitions.js"></script>
</body>
</html>


