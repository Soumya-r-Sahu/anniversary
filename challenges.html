<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couple Challenges - Anniversary</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Fun relationship challenges and games for couples">
    <meta name="keywords" content="anniversary, love, challenges, games, couple activities, relationship">
    <meta name="author" content="Anniversary Website">
    
    <!-- Theme and Icons -->
    <meta name="theme-color" content="#ff69b4">
    <meta name="msapplication-navbutton-color" content="#ff69b4">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
    
    <!-- CSS Links -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="src/styles/enhanced-romantic.css">
    <link rel="stylesheet" href="src/styles/dark-theme.css">
    <link rel="stylesheet" href="src/styles/ui-controls.css">
    <link rel="stylesheet" href="src/styles/variables.css">
    <link rel="stylesheet" href="src/styles/performance-optimized.css">
    <link rel="stylesheet" href="src/styles/90fps-optimized.css">
    
    <!-- Custom Styles -->
    <style>
        .challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .challenge-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .challenge-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(255, 105, 180, 0.3);
        }
        
        .challenge-card.completed {
            background: rgba(75, 181, 67, 0.2);
            border-color: #4bb543;
        }
        
        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .challenge-icon {
            font-size: 2.5rem;
            color: #ff69b4;
            margin-bottom: 1rem;
        }
        
        .challenge-difficulty {
            background: rgba(255, 105, 180, 0.3);
            color: #fff;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .challenge-difficulty.easy { background: rgba(75, 181, 67, 0.3); }
        .challenge-difficulty.medium { background: rgba(255, 193, 7, 0.3); }
        .challenge-difficulty.hard { background: rgba(220, 53, 69, 0.3); }
        
        .challenge-title {
            color: #fff;
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .challenge-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        .challenge-points {
            background: rgba(255, 105, 180, 0.2);
            border-radius: 10px;
            padding: 0.8rem;
            margin-bottom: 1rem;
            text-align: center;
            border: 1px solid rgba(255, 105, 180, 0.3);
        }
        
        .points-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff69b4;
        }
        
        .points-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }
        
        .challenge-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .challenge-btn {
            background: rgba(255, 105, 180, 0.3);
            border: 1px solid #ff69b4;
            color: #fff;
            padding: 0.8rem 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            flex: 1;
        }
        
        .challenge-btn:hover {
            background: #ff69b4;
            transform: scale(1.05);
        }
        
        .challenge-btn.complete {
            background: rgba(75, 181, 67, 0.3);
            border-color: #4bb543;
        }
        
        .challenge-btn.complete:hover {
            background: #4bb543;
        }
        
        .quiz-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .quiz-question {
            color: #fff;
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 1rem;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .quiz-option:hover {
            background: rgba(255, 105, 180, 0.3);
            border-color: #ff69b4;
        }
        
        .quiz-option.selected {
            background: rgba(255, 105, 180, 0.5);
            border-color: #ff69b4;
        }
        
        .conversation-starters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .conversation-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .conversation-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
        }
        
        .conversation-text {
            color: #fff;
            font-size: 1.1rem;
            text-align: center;
            line-height: 1.5;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .achievement-badge {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .achievement-badge.unlocked {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }
        
        .achievement-badge:hover {
            transform: scale(1.05);
        }
        
        .achievement-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .achievement-badge.unlocked .achievement-icon {
            color: #ffd700;
        }
        
        .achievement-badge:not(.unlocked) .achievement-icon {
            color: rgba(255, 255, 255, 0.3);
        }
        
        .achievement-title {
            color: #fff;
            font-size: 1rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .achievement-description {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }
        
        .progress-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .progress-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 10px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #ff69b4;
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 20px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(45deg, #ff69b4, #8a2be2);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .new-challenge-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: linear-gradient(45deg, #ff69b4, #8a2be2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(255, 105, 180, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .new-challenge-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(255, 105, 180, 0.6);
        }
        
        @media (max-width: 768px) {
            .challenges-grid {
                grid-template-columns: 1fr;
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .conversation-starters {
                grid-template-columns: 1fr;
            }
            
            .achievements-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Particle Background -->
    <div id="particles-js"></div>
    
    <!-- Floating Bubbles -->
    <div class="floating-bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>
    
    <!-- Navigation -->
    <nav class="main-nav" data-aos="fade-down">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-heart"></i>
                <span>Our Journey</span>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="countdown.html" class="nav-link">
                    <i class="fas fa-clock"></i>
                    <span>Countdown</span>
                </a>
                <a href="memories-timeline.html" class="nav-link">
                    <i class="fas fa-timeline"></i>
                    <span>Timeline</span>
                </a>
                <a href="challenges.html" class="nav-link active">
                    <i class="fas fa-trophy"></i>
                    <span>Challenges</span>
                </a>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- Header Section -->
        <section class="hero-section" data-aos="fade-up">
            <div class="hero-content">
                <h1 class="hero-title">
                    <i class="fas fa-trophy"></i>
                    Couple Challenges
                </h1>
                <p class="hero-subtitle">Fun games and activities to strengthen our bond</p>
            </div>
        </section>
        
        <!-- Progress Section -->
        <section class="content-section" data-aos="fade-up" data-aos-delay="200">
            <h2 class="section-title">
                <i class="fas fa-chart-line"></i>
                Our Progress
            </h2>
            <div class="progress-section">
                <div class="progress-stats">
                    <div class="stat-item">
                        <div class="stat-number" id="totalPoints">750</div>
                        <div class="stat-label">Total Points</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="completedChallenges">12</div>
                        <div class="stat-label">Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="currentStreak">5</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="achievementCount">8</div>
                        <div class="stat-label">Achievements</div>
                    </div>
                </div>
                <div style="text-align: center; color: #fff; margin-bottom: 1rem;">
                    <strong>Level 4: Relationship Experts</strong>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%"></div>
                </div>
                <div style="text-align: center; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                    250 points to Level 5
                </div>
            </div>
        </section>
        
        <!-- Weekly Challenges -->
        <section class="content-section" data-aos="fade-up" data-aos-delay="400">
            <h2 class="section-title">
                <i class="fas fa-calendar-week"></i>
                This Week's Challenges
            </h2>
            <div class="challenges-grid">
                <div class="challenge-card" data-aos="zoom-in" data-aos-delay="500">
                    <div class="challenge-header">
                        <div class="challenge-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="challenge-difficulty easy">Easy</div>
                    </div>
                    <h3 class="challenge-title">Cook Together</h3>
                    <p class="challenge-description">
                        Prepare a meal together without looking at any recipes. Let creativity guide you!
                    </p>
                    <div class="challenge-points">
                        <div class="points-value">50</div>
                        <div class="points-label">Points</div>
                    </div>
                    <div class="challenge-actions">
                        <button class="challenge-btn" onclick="completeChallenge(this, 50)">
                            <i class="fas fa-check"></i> Complete
                        </button>
                        <button class="challenge-btn" onclick="skipChallenge(this)">
                            <i class="fas fa-forward"></i> Skip
                        </button>
                    </div>
                </div>
                
                <div class="challenge-card" data-aos="zoom-in" data-aos-delay="600">
                    <div class="challenge-header">
                        <div class="challenge-icon">
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="challenge-difficulty medium">Medium</div>
                    </div>
                    <h3 class="challenge-title">Photo Scavenger Hunt</h3>
                    <p class="challenge-description">
                        Take photos of 10 things that remind you of your partner. Share and explain each one.
                    </p>
                    <div class="challenge-points">
                        <div class="points-value">100</div>
                        <div class="points-label">Points</div>
                    </div>
                    <div class="challenge-actions">
                        <button class="challenge-btn" onclick="completeChallenge(this, 100)">
                            <i class="fas fa-check"></i> Complete
                        </button>
                        <button class="challenge-btn" onclick="skipChallenge(this)">
                            <i class="fas fa-forward"></i> Skip
                        </button>
                    </div>
                </div>
                
                <div class="challenge-card completed" data-aos="zoom-in" data-aos-delay="700">
                    <div class="challenge-header">
                        <div class="challenge-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="challenge-difficulty easy">Easy</div>
                    </div>
                    <h3 class="challenge-title">Love Letter Exchange</h3>
                    <p class="challenge-description">
                        Write each other a heartfelt letter expressing what you love most about them.
                    </p>
                    <div class="challenge-points">
                        <div class="points-value">75</div>
                        <div class="points-label">Points Earned ‚úì</div>
                    </div>
                    <div class="challenge-actions">
                        <button class="challenge-btn complete" disabled>
                            <i class="fas fa-check"></i> Completed
                        </button>
                    </div>
                </div>
                
                <div class="challenge-card" data-aos="zoom-in" data-aos-delay="800">
                    <div class="challenge-header">
                        <div class="challenge-icon">
                            <i class="fas fa-map"></i>
                        </div>
                        <div class="challenge-difficulty hard">Hard</div>
                    </div>
                    <h3 class="challenge-title">Mystery Date Planning</h3>
                    <p class="challenge-description">
                        Plan a surprise date for each other without revealing any details until the day.
                    </p>
                    <div class="challenge-points">
                        <div class="points-value">150</div>
                        <div class="points-label">Points</div>
                    </div>
                    <div class="challenge-actions">
                        <button class="challenge-btn" onclick="completeChallenge(this, 150)">
                            <i class="fas fa-check"></i> Complete
                        </button>
                        <button class="challenge-btn" onclick="skipChallenge(this)">
                            <i class="fas fa-forward"></i> Skip
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Quiz Section -->
        <section class="content-section" data-aos="fade-up" data-aos-delay="600">
            <h2 class="section-title">
                <i class="fas fa-question-circle"></i>
                How Well Do You Know Each Other?
            </h2>
            <div class="quiz-container">
                <div class="quiz-question" id="quizQuestion">
                    What is your partner's favorite childhood memory?
                </div>
                <div class="quiz-options" id="quizOptions">
                    <div class="quiz-option" onclick="selectOption(this)">
                        Family vacation to the beach
                    </div>
                    <div class="quiz-option" onclick="selectOption(this)">
                        Learning to ride a bike
                    </div>
                    <div class="quiz-option" onclick="selectOption(this)">
                        Birthday party at age 8
                    </div>
                    <div class="quiz-option" onclick="selectOption(this)">
                        Christmas morning surprises
                    </div>
                </div>
                <div style="text-align: center;">
                    <button class="challenge-btn" onclick="submitQuizAnswer()" style="max-width: 200px;">
                        <i class="fas fa-paper-plane"></i> Submit Answer
                    </button>
                    <button class="challenge-btn" onclick="nextQuestion()" style="max-width: 200px; margin-left: 1rem;">
                        <i class="fas fa-arrow-right"></i> Next Question
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Conversation Starters -->
        <section class="content-section" data-aos="fade-up" data-aos-delay="800">
            <h2 class="section-title">
                <i class="fas fa-comments"></i>
                Daily Conversation Starters
            </h2>
            <div class="conversation-starters">
                <div class="conversation-card" data-aos="flip-left" data-aos-delay="900" onclick="markAsDiscussed(this)">
                    <p class="conversation-text">
                        "If you could have dinner with any three people, living or dead, who would they be and why?"
                    </p>
                </div>
                
                <div class="conversation-card" data-aos="flip-left" data-aos-delay="1000" onclick="markAsDiscussed(this)">
                    <p class="conversation-text">
                        "What's a skill you've always wanted to learn together as a couple?"
                    </p>
                </div>
                
                <div class="conversation-card" data-aos="flip-left" data-aos-delay="1100" onclick="markAsDiscussed(this)">
                    <p class="conversation-text">
                        "Describe your perfect day spent together in detail."
                    </p>
                </div>
                
                <div class="conversation-card" data-aos="flip-left" data-aos-delay="1200" onclick="markAsDiscussed(this)">
                    <p class="conversation-text">
                        "What's something about me that you've never told me but always admired?"
                    </p>
                </div>
                
                <div class="conversation-card" data-aos="flip-left" data-aos-delay="1300" onclick="markAsDiscussed(this)">
                    <p class="conversation-text">
                        "If we could live anywhere in the world, where would it be and what would our life look like?"
                    </p>
                </div>
                
                <div class="conversation-card" data-aos="flip-left" data-aos-delay="1400" onclick="markAsDiscussed(this)">
                    <p class="conversation-text">
                        "What's a childhood tradition you'd like to start with our future family?"
                    </p>
                </div>
            </div>
        </section>
        
        <!-- Achievements -->
        <section class="content-section" data-aos="fade-up" data-aos-delay="1000">
            <h2 class="section-title">
                <i class="fas fa-medal"></i>
                Relationship Achievements
            </h2>
            <div class="achievements-grid">
                <div class="achievement-badge unlocked" data-aos="zoom-in" data-aos-delay="1100">
                    <div class="achievement-icon">üèÜ</div>
                    <div class="achievement-title">First Challenge</div>
                    <div class="achievement-description">Complete your first couple challenge</div>
                </div>
                
                <div class="achievement-badge unlocked" data-aos="zoom-in" data-aos-delay="1200">
                    <div class="achievement-icon">üíë</div>
                    <div class="achievement-title">Date Night Master</div>
                    <div class="achievement-description">Plan 5 successful date nights</div>
                </div>
                
                <div class="achievement-badge unlocked" data-aos="zoom-in" data-aos-delay="1300">
                    <div class="achievement-icon">üì∏</div>
                    <div class="achievement-title">Memory Keeper</div>
                    <div class="achievement-description">Create 10 new memories together</div>
                </div>
                
                <div class="achievement-badge" data-aos="zoom-in" data-aos-delay="1400">
                    <div class="achievement-icon">üåü</div>
                    <div class="achievement-title">Conversation Pro</div>
                    <div class="achievement-description">Complete 20 conversation starters</div>
                </div>
                
                <div class="achievement-badge" data-aos="zoom-in" data-aos-delay="1500">
                    <div class="achievement-icon">üéØ</div>
                    <div class="achievement-title">Goal Crusher</div>
                    <div class="achievement-description">Complete 50 challenges together</div>
                </div>
                
                <div class="achievement-badge unlocked" data-aos="zoom-in" data-aos-delay="1600">
                    <div class="achievement-icon">üíï</div>
                    <div class="achievement-title">Love Expert</div>
                    <div class="achievement-description">Score 100% on relationship quiz</div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- New Challenge Button -->
    <button class="new-challenge-btn" onclick="generateNewChallenge()" title="Generate New Challenge">
        <i class="fas fa-plus"></i>
    </button>
    
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="src/core/EnhancedMusicManager.js"></script>
    <script src="src/utils/ui-controls.js"></script>
    <script src="src/core/particles-config.js"></script>
    
    <script>
        // Initialize AOS
        AOS.init({
            duration: 1000,
            easing: 'ease-in-out',
            once: true,
            mirror: false
        });
        
        // Initialize Enhanced Music Manager
        const musicManager = window.musicManager;
        
        // Quiz questions database
        const quizQuestions = [
            {
                question: "What is your partner's favorite childhood memory?",
                options: ["Family vacation to the beach", "Learning to ride a bike", "Birthday party at age 8", "Christmas morning surprises"]
            },
            {
                question: "What's your partner's biggest dream?",
                options: ["Travel the world", "Start a family", "Build a successful career", "Write a book"]
            },
            {
                question: "What makes your partner laugh the most?",
                options: ["Funny movies", "Your jokes", "Silly videos", "Witty observations"]
            },
            {
                question: "What's your partner's love language?",
                options: ["Physical touch", "Words of affirmation", "Acts of service", "Quality time"]
            },
            {
                question: "What's your partner's ideal date night?",
                options: ["Romantic dinner", "Adventure outdoors", "Cozy movie night", "Dancing together"]
            }
        ];
        
        let currentQuizIndex = 0;
        let totalPoints = 750;
        
        function completeChallenge(button, points) {
            const card = button.closest('.challenge-card');
            card.classList.add('completed');
            
            // Update points
            totalPoints += points;
            document.getElementById('totalPoints').textContent = totalPoints;
            
            // Update completed challenges count
            const completed = parseInt(document.getElementById('completedChallenges').textContent) + 1;
            document.getElementById('completedChallenges').textContent = completed;
            
            // Change button state
            button.innerHTML = '<i class="fas fa-check"></i> Completed';
            button.classList.add('complete');
            button.disabled = true;
            
            // Remove skip button
            const skipBtn = button.nextElementSibling;
            if (skipBtn) skipBtn.style.display = 'none';
            
            // Show celebration
            showCelebration(`Challenge completed! +${points} points! üéâ`);
            
            // Check for achievements
            checkAchievements();
        }
        
        function skipChallenge(button) {
            const card = button.closest('.challenge-card');
            card.style.opacity = '0.5';
            card.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                card.style.display = 'none';
                generateNewChallenge();
            }, 300);
        }
        
        function selectOption(option) {
            // Remove previous selections
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select current option
            option.classList.add('selected');
        }
        
        function submitQuizAnswer() {
            const selected = document.querySelector('.quiz-option.selected');
            if (!selected) {
                alert('Please select an answer first!');
                return;
            }
            
            // Simulate checking answer (in real app, this would be compared to actual answer)
            const isCorrect = Math.random() > 0.3; // 70% chance of being "correct"
            
            if (isCorrect) {
                showCelebration('Correct! You know each other well! üíï');
                totalPoints += 25;
                document.getElementById('totalPoints').textContent = totalPoints;
            } else {
                showCelebration('Not quite right, but you\'re learning! üíô');
            }
        }
        
        function nextQuestion() {
            currentQuizIndex = (currentQuizIndex + 1) % quizQuestions.length;
            const question = quizQuestions[currentQuizIndex];
            
            document.getElementById('quizQuestion').textContent = question.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = question.options.map(option => `
                <div class="quiz-option" onclick="selectOption(this)">
                    ${option}
                </div>
            `).join('');
        }
        
        function markAsDiscussed(card) {
            card.style.background = 'rgba(75, 181, 67, 0.2)';
            card.style.borderColor = '#4bb543';
            card.style.transform = 'scale(0.95)';
            
            const text = card.querySelector('.conversation-text');
            text.innerHTML += ' <span style="color: #4bb543; font-weight: bold;">‚úì Discussed</span>';
            
            card.onclick = null; // Disable further clicks
            
            setTimeout(() => {
                showCelebration('Great conversation! Keep talking! üí¨');
            }, 500);
        }
        
        function generateNewChallenge() {
            const challenges = [
                {
                    icon: 'fas fa-music',
                    title: 'Create a Playlist',
                    description: 'Make a playlist of songs that describe your relationship journey.',
                    difficulty: 'easy',
                    points: 50
                },
                {
                    icon: 'fas fa-book',
                    title: 'Write Your Story',
                    description: 'Write a short story about how you imagine your future together.',
                    difficulty: 'medium',
                    points: 100
                },
                {
                    icon: 'fas fa-paint-brush',
                    title: 'Art Together',
                    description: 'Create a piece of art together - painting, drawing, or crafting.',
                    difficulty: 'medium',
                    points: 125
                },
                {
                    icon: 'fas fa-star',
                    title: 'Stargazing Night',
                    description: 'Spend an evening stargazing and sharing your biggest dreams.',
                    difficulty: 'easy',
                    points: 75
                }
            ];
            
            const randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];
            
            const challengesGrid = document.querySelector('.challenges-grid');
            const newChallengeHTML = `
                <div class="challenge-card" data-aos="zoom-in">
                    <div class="challenge-header">
                        <div class="challenge-icon">
                            <i class="${randomChallenge.icon}"></i>
                        </div>
                        <div class="challenge-difficulty ${randomChallenge.difficulty}">${randomChallenge.difficulty}</div>
                    </div>
                    <h3 class="challenge-title">${randomChallenge.title}</h3>
                    <p class="challenge-description">${randomChallenge.description}</p>
                    <div class="challenge-points">
                        <div class="points-value">${randomChallenge.points}</div>
                        <div class="points-label">Points</div>
                    </div>
                    <div class="challenge-actions">
                        <button class="challenge-btn" onclick="completeChallenge(this, ${randomChallenge.points})">
                            <i class="fas fa-check"></i> Complete
                        </button>
                        <button class="challenge-btn" onclick="skipChallenge(this)">
                            <i class="fas fa-forward"></i> Skip
                        </button>
                    </div>
                </div>
            `;
            
            challengesGrid.insertAdjacentHTML('beforeend', newChallengeHTML);
            AOS.refresh();
            
            showCelebration('New challenge generated! üéØ');
        }
        
        function checkAchievements() {
            const completed = parseInt(document.getElementById('completedChallenges').textContent);
            const achievements = document.querySelectorAll('.achievement-badge:not(.unlocked)');
            
            // Check for specific milestones
            if (completed >= 10 && achievements.length > 0) {
                const achievement = achievements[0];
                achievement.classList.add('unlocked');
                showCelebration('Achievement Unlocked! üèÜ');
            }
        }
        
        function showCelebration(message) {
            const celebration = document.createElement('div');
            celebration.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(255, 105, 180, 0.95);
                color: white;
                padding: 1.5rem 2rem;
                border-radius: 15px;
                z-index: 9999;
                font-weight: bold;
                font-size: 1.1rem;
                box-shadow: 0 10px 30px rgba(255, 105, 180, 0.4);
                animation: celebrationPop 0.5s ease-out;
            `;
            celebration.textContent = message;
            document.body.appendChild(celebration);
            
            // Add celebration animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes celebrationPop {
                    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
                    50% { transform: translate(-50%, -50%) scale(1.1); }
                    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            setTimeout(() => {
                celebration.remove();
                style.remove();
            }, 3000);
        }
        
        // Initialize random conversation starters on page load
        function shuffleConversationStarters() {
            const starters = document.querySelectorAll('.conversation-card');
            const container = document.querySelector('.conversation-starters');
            
            // Convert NodeList to Array and shuffle
            const startersArray = Array.from(starters);
            for (let i = startersArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [startersArray[i], startersArray[j]] = [startersArray[j], startersArray[i]];
            }
            
            // Reappend in new order
            startersArray.forEach(starter => container.appendChild(starter));
        }
          // Initialize
        shuffleConversationStarters();
    </script>

    <!-- UI Control System -->
    <script type="module" src="./src/components/UIControlSystem.js"></script>

    <!-- Page-Specific Music Popup Manager -->
    <script type="module" src="./src/music-popup-initializer.js"></script>
</body>
</html>


